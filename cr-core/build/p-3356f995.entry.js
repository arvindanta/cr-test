import{r as t,h as i,i as e}from"./p-8adda833.js";import{h as s}from"./p-627873c4.js";const h=["input","select","textarea"];let o=class{constructor(i){t(this,i),this.type="TEXT",this.required=!1,this.hint="",this.placeholder="",this.choices=[],this.fieldProps={},this.touched=!1,this.error="",this.hasSlot=!1}renderControl(){var t,e,s,h,o,r,l,n,a,c,d,b,v,u,p,f,O,m,j,x;if(this.hasSlot)return null;if(!this.name)return null;let g;switch(this.type){case"TEXT":case"NUMBER":case"DECIMAL":case"EMAIL":case"TEL":case"URL":{const s="DECIMAL"===this.type?"number":null===(t=this.type)||void 0===t?void 0:t.toLowerCase(),h=Object.assign(Object.assign(Object.assign(Object.assign({},this.fieldProps),{name:this.name,placeholder:this.placeholder,label:this.label,required:this.required,type:s}),null===(e=this.controlProps)||void 0===e?void 0:e.inputProps(this.name,s)),{state:this.touched&&this.error?"error":"normal","hint-text":this.hint,"error-text":this.error});g=i("fw-input",Object.assign({},h,{ref:t=>this.crayonsControlRef=t}));break}case"PARAGRAPH":{const t=Object.assign(Object.assign(Object.assign(Object.assign({},this.fieldProps),{name:this.name,placeholder:this.placeholder,label:this.label,required:this.required}),null===(s=this.controlProps)||void 0===s?void 0:s.inputProps(this.name,null===(h=this.type)||void 0===h?void 0:h.toLowerCase())),{state:this.touched&&this.error?"error":"normal","hint-text":this.hint,"error-text":this.error});g=i("fw-textarea",Object.assign({},t,{ref:t=>this.crayonsControlRef=t}))}break;case"DATE":{const t=Object.assign(Object.assign(Object.assign(Object.assign({},this.fieldProps),{name:this.name,placeholder:this.placeholder,label:this.label,required:this.required}),null===(o=this.controlProps)||void 0===o?void 0:o.inputProps(this.name,null===(r=this.type)||void 0===r?void 0:r.toLowerCase())),{state:this.touched&&this.error?"error":"normal","hint-text":this.hint,"error-text":this.error});g=i("fw-datepicker",Object.assign({},t,{readonly:!0,ref:t=>this.crayonsControlRef=t}))}break;case"CHECKBOX":{const t=Object.assign(Object.assign(Object.assign(Object.assign({},this.fieldProps),{name:this.name,placeholder:this.placeholder,label:"",required:this.required}),null===(l=this.controlProps)||void 0===l?void 0:l.checkboxProps(this.name,null===(n=this.type)||void 0===n?void 0:n.toLowerCase())),{state:this.touched&&this.error?"error":"normal","hint-text":this.hint,"error-text":this.error});g=i("fw-checkbox",Object.assign({},t,{ref:t=>this.crayonsControlRef=t}),this.label)}break;case"RADIO":{const t=null===(a=this.controlProps)||void 0===a?void 0:a.radioProps(this.name,null===(c=this.type)||void 0===c?void 0:c.toLowerCase()),e=Object.assign(Object.assign(Object.assign({},this.fieldProps),{name:this.name,placeholder:this.placeholder,label:this.label,required:this.required,"allow-empty":!0,state:this.touched&&this.error?"error":"normal","hint-text":this.hint,"error-text":this.error}),t);g=i("fw-radio-group",Object.assign({},e,{ref:t=>this.crayonsControlRef=t}),null===(d=this.choices)||void 0===d?void 0:d.map((t=>i("fw-radio",{name:this.name,value:t[e.optionValuePath]||t.value,state:this.touched&&this.error?"error":"normal"},t[e.optionLabelPath]||t.value))))}break;case"DROPDOWN":case"MULTI_SELECT":{const t=null===(b=this.controlProps)||void 0===b?void 0:b.selectProps(this.name,null===(v=this.type)||void 0===v?void 0:v.toLowerCase());let e=Object.assign(Object.assign({},this.fieldProps),{name:this.name,placeholder:this.placeholder,label:this.label,required:this.required,multiple:"MULTI_SELECT"===this.type,state:this.touched&&this.error?"error":"normal","hint-text":this.hint,"error-text":this.error});e=Object.assign(Object.assign(Object.assign({},e),t),{options:this.choices}),g=i("fw-select",Object.assign({},e,{ref:t=>this.crayonsControlRef=t}))}break;case"RELATIONSHIP":{const t=null===(u=this.controlProps)||void 0===u?void 0:u.selectProps(this.name,null===(p=this.type)||void 0===p?void 0:p.toLowerCase()),e=Object.assign(Object.assign({},this.fieldProps),{name:this.name,placeholder:this.placeholder,label:this.label,required:this.required,state:this.touched&&this.error?"error":"normal","hint-text":this.hint,"error-text":this.error});Array.isArray(t.value)&&"object"==typeof t.value[0]&&(e.selectedOptions=t.value),(null===(f=e.selectedOptions)||void 0===f?void 0:f.length)>0?null===(O=this.crayonsControlRef)||void 0===O||O.setSelectedOptions(e.selectedOptions):t.value||null===(m=this.crayonsControlRef)||void 0===m||m.setSelectedOptions([]),e.noDataText="Start Typing...",g=i("fw-select",Object.assign({},e,{ref:t=>this.crayonsControlRef=t}))}break;case"TIME":{const t=Object.assign(Object.assign(Object.assign(Object.assign({},this.fieldProps),{name:this.name,placeholder:this.placeholder,label:this.label,required:this.required}),null===(j=this.controlProps)||void 0===j?void 0:j.inputProps(this.name,null===(x=this.type)||void 0===x?void 0:x.toLowerCase())),{state:this.touched&&this.error?"error":"normal","hint-text":this.hint,"error-text":this.error});g=i("fw-timepicker",Object.assign({},t,{ref:t=>this.crayonsControlRef=t}))}}return g}componentWillLoad(){this.handleSlotChange()}async setFocus(){var t,i,e,s;this.hasSlot?null===(s=null===(e=this.slotElement)||void 0===e?void 0:e.focus)||void 0===s||s.call(e):await(null===(i=null===(t=this.crayonsControlRef)||void 0===t?void 0:t.setFocus)||void 0===i?void 0:i.call(t))}handleSlotChange(){var t;this.hasSlot=s(this.el),this.slotElement=null===(t=[...this.el.querySelectorAll("*")].filter((t=>{var i;return h.includes(null===(i=null==t?void 0:t.tagName)||void 0===i?void 0:i.toLowerCase())})))||void 0===t?void 0:t[0]}render(){return i("div",{class:"form-control-container"},this.renderControl(),this.hasSlot&&i("label",{htmlFor:this.name,class:{label:!0,required:this.required}},this.label),i("slot",null),this.hasSlot&&!(this.touched&&this.error)&&i("div",{class:"hint",id:`hint-${this.name}`},this.hint),this.hasSlot&&this.touched&&this.error&&i("div",{class:"error",id:`error-${this.name}`},this.error))}get el(){return e(this)}};o.style=':host{font-family:-apple-system, blinkmacsystemfont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}.error{color:#d72d30;font-weight:400;font-size:12px;line-height:20px;padding-top:4px;padding-left:2px}label{font-size:12px;color:#475867;font-weight:600;margin-bottom:4px;padding-left:2px;display:block}label.required::after{content:"*";position:relative;display:inline-block;top:2px;font-size:14px;color:#d72d30;padding-left:2px;font-weight:700}.hint{font-weight:400;font-size:12px;color:#475867;line-height:20px;padding-top:4px;padding-left:2px}.form-control-container{margin:1em 0em}';export{o as fw_form_control}